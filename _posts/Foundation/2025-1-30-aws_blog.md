---
layout: post
title: AWS Blog
description: Overview of AWS
type: issues
comments: True
---

## Personalized Deployment Blog

### Introduction
Deployment is the final step in the software development lifecycle. Before we push our project live, it is crucial to ensure that everything is properly set up, from the frontend to the backend. This guide outlines the essential steps required for deploying a full-stack application, covering everything from server configuration to DNS setup.

### Preparing for Deployment
Before starting, complete a thorough review of the frontend-to-backend integration. Ensure that your test server is running smoothly locally. If it doesn’t work locally, it won’t work in production.

Additionally, document the deployment process, including terms, visuals, and troubleshooting steps. Clearly define roles for Deployment Admins and prepare necessary configuration files in your repository.

### Server Setup

- cd ~

- Clone your backend repo: git clone github.com/server/project.git my_unique_name

- Navigate to your repo: cd my_unique_name

- Build your site: docker-compose up -d --build

- Test your site: curl localhost:8--- (replace ‘8—’ with your port number)

### Backend Server Setup
- **Select a Port:** Choose a unique port for your application (e.g., `8087`). Update all instances of this port in `main.py`, `Dockerfile`, and `docker-compose.yml`.
- **Test Locally:** Run the Flask application to ensure the backend functions correctly.
- **Dockerize the Application:** Use a `Dockerfile` and `docker-compose.yml` to containerize the application.
- **Configure Nginx:** Set up an `nginx` configuration file to reverse proxy requests from the internet to the application.
- **Verify API Connection:** Update `assets/api/config.js` to match the chosen domain and port.

### Deploying to AWS EC2
- **Access AWS Console:** Log in and navigate to EC2 instances.
- **Connect to Terminal:** Use the school gateway to access the deployment server.
- **Clone Repository:** Use `git clone` to download the latest code.
- **Build & Run Containers:** Execute `docker-compose up -d --build` to start the backend service.
- **Check Status:** Run `curl localhost:8---` to verify the server response.

### Configuring DNS & Nginx
- **Setup Subdomain in Route 53:** Configure Route 53 records to point to the deployment server.
- **Update Nginx Configuration:** Establish a reverse proxy by modifying `/etc/nginx/sites-available`.
- **Activate Configuration:** Link the Nginx configuration file and restart the service.
- **Test the Domain:** Verify that requests route correctly to the application.

### Securing the Deployment with SSL
- **Run Certbot:** Generate SSL certificates using `sudo certbot --nginx`.
- **Enable HTTPS Redirect:** Configure Nginx to automatically redirect HTTP to HTTPS.
- **Verify SSL Configuration:** Test the security setup using SSL Labs.

### Updating Code Post-Deployment
- **Pull the Latest Changes:** Use `git pull` to fetch updates from GitHub.
- **Rebuild Containers:** Restart the application with `docker-compose down` followed by `docker-compose up -d --build`.
- **Validate Updates:** Confirm the site is working by checking the browser and running `curl` commands.

### Troubleshooting & Monitoring
- **Check Running Containers:** Use `docker ps` and `docker-compose ps` to verify container statuses.
- **Monitor Logs:** Inspect logs via Cockpit for debugging information.
- **Confirm Connectivity:** Test API responses and check Nginx configurations.
